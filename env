# ~/.env: should be executed by the command interpreter for
#         login shells.

# set PATH so it includes user's private bin if it exists
if [ -d "${HOME}/bin" ] ; then
    export PATH="${HOME}/bin:${PATH}"
fi

# set PATH so it includes user's private bin if it exists
if [ -d "${HOME}/.local/sbin" ] ; then
    export PATH="${HOME}/.local/sbin:${PATH}"
fi
if [ -d "${HOME}/.local/bin" ] ; then
    export PATH="${HOME}/.local/bin:${PATH}"
fi

# set PATH so it includes macport's private bin if it exists
if [ -d "/opt/local/bin" ] ; then
    export PATH="/opt/local/sbin:${PATH}"
fi
if [ -d "/opt/local/sbin" ] ; then
    export PATH="/opt/local/bin:${PATH}"
fi

# set XDG config directory and create it if it does not exist
export XDG_CONFIG_HOME="${HOME}/.config"
if [ ! -d "${XDG_CONFIG_HOME}" ]; then
    mkdir "${XDG_CONFIG_HOME}" >/dev/null 2>&1
fi

#History setup
export HISTSIZE=100000
export SAVEHIST=20000

# enable colors
export CLICOLOR=1

# set colors used in ls command
export LSCOLORS=ExFxBxDxCxegedabagacad

# set up colors for man pages
export LESS_TERMCAP_mb=$(printf '\e[01;31m') # enter blinking mode – red
export LESS_TERMCAP_md=$(printf '\e[01;35m') # enter double-bright mode – bold, magenta
export LESS_TERMCAP_me=$(printf '\e[0m') # turn off all appearance modes (mb, md, so, us)
export LESS_TERMCAP_se=$(printf '\e[0m') # leave standout mode
export LESS_TERMCAP_so=$(printf '\e[01;33m') # enter standout mode – yellow
export LESS_TERMCAP_ue=$(printf '\e[0m') # leave underline mode
export LESS_TERMCAP_us=$(printf '\e[04;36m') # enter underline mode – cyan

# set default editor
if command -v micro &> /dev/null; then
    export EDITOR="micro"
fi

# set JAVA_HOME variable
if command -v /usr/libexec/java_home &> /dev/null; then
    export JAVA_HOME="$(/usr/libexec/java_home)"
fi

# add python binaries to path
if [ -d "${HOME}/Library/Python/3.7/bin" ]; then
    export PATH="${HOME}/Library/Python/3.7/bin:${PATH}"
fi

# add postgres binaries to path
if [ -d "/opt/local/lib/postgresql13/bin/" ]; then
    export PATH="/opt/local/lib/postgresql13/bin/:${PATH}"
fi

# set flutter version manager home directory
if command -v fvm &> /dev/null; then
    export FVM_HOME="~/.fvm"
fi


# TODO: REMOVE THIS IN FUTURE (handle nvm versions with macports)
# add nvm binaries to path
if command -v nvm &> /dev/null; then

  export NVM_DIR="$HOME/.nvm"
  if [ ! -d "${HOME}/.nvm" ]; then
    mkdir "${NVM_DIR}"
  fi

  if [ -s "${NVM_DIR}/nvm.sh"]; then
    . "${NVM_DIR}/nvm.sh"
  fi

  if [ -s "${NVM_DIR}/bash_completion"]; then
    . "${NVM_DIR}/bash_completionit"
  fi

fi
